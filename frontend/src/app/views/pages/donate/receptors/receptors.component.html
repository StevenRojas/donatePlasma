<div class="container">
    <kt-header-plasma></kt-header-plasma>
    <div class="row">
        <div class="col-12">
            <div class="m-5 p-5">
                <div class="kt-register__form">
                    <kt-portlet [class]="'kt-portlet--height-fluid'" [ngStyle]="{'width': '100%'}">
                        <kt-portlet-body>
                            <form [formGroup]="formGroup" autocomplete="off" class="kt-register__form kt-form w-100"
                                  [ngStyle]="{'margin': 'auto'}">
                                <div class="row">
                                    <div class="col-12 col-sm-6">
                                        <div class="row">
                                            <div class="col-8">
                                                <div class="form-group">
                                                    <mat-form-field class="input-full-width w-100">
                                                        <mat-select (selectionChange)="setCity($event)" placeholder="Tu ciudad" aria-label="Tu ciudad"
                                                                    formControlName="city">
                                                            <mat-option value="0">Bolivia</mat-option>
                                                            <mat-option *ngFor="let enumObj of cities"
                                                                        value="{{ enumObj.value }}">{{ enumObj.display }}</mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="col-4">
                                                <div class="form-group">
                                                    <mat-form-field class="input-full-width w-100">
                                                        <mat-select (selectionChange)="setBloodType($event)" placeholder="Tipo de sangre"
                                                                    aria-label="Tipo de sangre"
                                                                    formControlName="blood_type">
                                                            <mat-option value="0">Todos</mat-option>
                                                            <mat-option *ngFor="let enumObj of bloodTypes"
                                                                        value="{{ enumObj.value }}">{{ enumObj.display }}</mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <div class="row">
                                <div class="col-12" *ngFor="let item of list | async">
                                    <div class="item-border">
                                        <div class="row">
                                            <div class="col-12 col-sm-6">
                                                <div class="row">
                                                    <div class="col-3">
                                                        <img class="w-100" [src]="item.photo" alt="" appImage>
                                                    </div>
                                                    <div class="col-5">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <h3>{{ item.name }}</h3>
                                                            </div>
                                                            <div class="col-12">
                                                                <!--                                <p>{{ item.phone }} <span *ngIf="item.phone && item.cell">-</span> <span *ngIf="item.cell"> {{ item.cell }}</span> </p>-->
                                                                <p>{{ item.cell_phones }} </p>
                                                            </div>
                                                            <div class="col-12">
                                                                <p> {{ item.email }}</p>
                                                            </div>
                                                            <div class="col-12">
                                                                <ng-container *ngIf="item.city_id">
                                                                    <ng-container *ngFor="let city of cities">
                                                                        <b *ngIf="item.city_id == city.value"> {{ city.display }} </b>
                                                                    </ng-container>
                                                                </ng-container>
                                                                <ng-container *ngIf="!item.city_id">
                                                                    <b>Bolivia</b>
                                                                </ng-container>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-4 text-left">
                                                        <div class="blood-image-container">
                                                            <img class="blood-image"
                                                                 src="./assets/media/plasma/icono-sangre-{{ item.blood_type_id }}.svg"
                                                                 width="84px" height="84px"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 text-right">
                                                <div class="row">
                                                    <!--                                                    <div class="col-12">-->
                                                    <!--                                                        <a routerLink="/dona" routerLinkActive="active" class="alert-link" href="#">Puedes donar? ayuda!</a>-->
                                                    <!--                                                    </div>-->
                                                    <div class="col-12">
                                                        <div class="w-100 h-100"></div>
                                                    </div>
                                                    <div class="col-12">
                                                        Podr&iacute;a recibir plasma de: <br>
                                                        <img class="p-1" *ngFor="let compatible of item.compatible_with.split(',')"
                                                             src="./assets/media/plasma/icono-sangre-{{ compatible }}.svg"
                                                             width="34px"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <mat-paginator
                                            [length]="total"
                                            [pageSize]="30"
                                            (page)="updatePagination($event)"
                                            >
                                    </mat-paginator>
                                </div>
                            </div>
                        </kt-portlet-body>
                    </kt-portlet>
                </div>
            </div>
        </div>
    </div>
</div>
<kt-footer-plasma></kt-footer-plasma>